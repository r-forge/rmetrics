sobol.V(mymj ,mypj, bitnb=5, echo=TRUE)
mymj <- list(
c(1),
c(1,3,5),
c(1,1,7))
mypj <- c(1, 3, 7)
sobol.V(mymj ,mypj, bitnb=5, echo=TRUE)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
sobol.V(mymj ,mypj, bitnb=5, echo=TRUE)
library(randtoolbox)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
sobol.V(mymj ,mypj, bitnb=5, echo=TRUE)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
sobol.V(mymj ,mypj, bitnb=5, echo=FALSE)
library(randtoolbox)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
sobol.V(mymj ,mypj, bitnb=5, echo=FALSE)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
sobol.V(mymj ,mypj, bitnb=5, echo=TRUE)
library(randtoolbox)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
sobol.V(mymj ,mypj, bitnb=5, echo=TRUE)
library(randtoolbox)
mytrace <- TRUE
mytrace <- FALSE
#p318 Glasserman (2003)
mymj <- list(
c(1,1,1),
c(1,3,5),
c(1,1,7))
mypj <- c(1, 3, 7)
sobol.V(mymj ,mypj, bitnb=5, echo=TRUE)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
sobol.V(mymj ,mypj, bitnb=5, echo=TRUE)
sobol.V(mymj ,mypj, bitnb=5, echo=FALSE)
sobol.V(mymj ,mypj, bitnb=5, echo=FALSE)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
sobol.V(mymj ,mypj, bitnb=5, echo=FALSE)
sobol
args(sobol)
mymj <- list(1)
mypj <- c(1)
sobol.V(mymj ,mypj, bitnb=5, echo=FALSE)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
myV <- sobol.V(mymj ,mypj, bitnb=32, echo=FALSE)
myV <- sobol.V(mymj ,mypj, bitnb=31, echo=FALSE)
myV
sobol.basic(10, myV[[1]], bitnb=31, echo=FALSE, output=c("real", "integer"),
start=1)
library(randtoolbox)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
myV <- sobol.V(mymj ,mypj, bitnb=31, echo=FALSE)
sobol.basic(10, myV[[1]], bitnb=31, echo=FALSE, output=c("real", "integer"),
start=1)
sobol.basic(10, myV[[1]], bitnb=30, echo=FALSE, output=c("real", "integer"),
start=1)
sobol.basic(10, myV[[1]], bitnb=31, echo=TRUE, output="real",
start=1)
library(randtoolbox)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
myV <- sobol.V(mymj ,mypj, bitnb=31, echo=FALSE)
sobol.basic(10, myV[[1]], bitnb=31, echo=TRUE, output="real",
start=1)
sobol
library(randtoolbox)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(1, 3, 7)
myV <- sobol.V(mymj ,mypj, bitnb=31, echo=FALSE)
sobol.basic(10, myV[[1]], bitnb=31, echo=TRUE, output="real",
start=1)
sobol.basic(10, myV[[2]], bitnb=31, echo=FALSE, output="real",
start=1)
sobol.basic(10, myV[[1]], bitnb=31, echo=FALSE, output="real",
start=1)
sobol.basic(10, myV[[3]], bitnb=31, echo=FALSE, output="real",
start=1)
library(randtoolbox)
sobol(10, 20)
setwd("~/Documents/recherche-enseignement/code/R/rmetrics/Rmetrics2/rmetrics/pkg/randtoolbox/share")
write.csv(sobol(100, 20), file="sobol.check.csv")
sobol.check <- read.csv("share/sobol.check.csv")
sobol.check <- read.csv("sobol.check.csv")
sobol.check
uD1 <- sobol.basic(10, myV[[1]], bitnb=31, echo=FALSE, output="real",
start=1)
uD2 <- sobol.basic(10, myV[[2]], bitnb=31, echo=FALSE, output="real",
start=1)
uD3 <- sobol.basic(10, myV[[3]], bitnb=31, echo=FALSE, output="real",
start=1)
uD1 <- sobol.basic(10, myV[[1]], bitnb=31, echo=FALSE, output="real",
start=1)
uD2 <- sobol.basic(10, myV[[2]], bitnb=31, echo=FALSE, output="real",
start=1)
uD3 <- sobol.basic(10, myV[[3]], bitnb=31, echo=FALSE, output="real",
start=1)
n <- 10
sobol.check[1:n, 1:3] == cbind(uD1, uD2, uD3)
sobol.check[1:n, 1:3]
write.csv(sobol(100, 20), file="sobol.check.csv", row.names = FALSE)
sobol.check <- read.csv("sobol.check.csv")
sobol.check[1:n, 1:3] == cbind(uD1, uD2, uD3)
sobol.check[1:n, 1:3]
cbind(uD1, uD2, uD3)
mymj <- list(
c(1),
c(1),
c(1,1,7))
mypj <- c(3, 7, 11)
myV <- sobol.V(mymj ,mypj, bitnb=31, echo=FALSE)
warnings()
myV
mymj <- list(
c(1),
c(1),
c(1,3,7))
mypj <- c(1, 3, 7)
myV <- sobol.V(mymj ,mypj, bitnb=31, echo=FALSE)
myV
uD1 <- sobol.basic(n, myV[[1]], bitnb=31, echo=FALSE, output="real",
start=1)
uD2 <- sobol.basic(n, myV[[2]], bitnb=31, echo=FALSE, output="real",
start=1)
uD3 <- sobol.basic(n, myV[[3]], bitnb=31, echo=FALSE, output="real",
start=1)
sobol.check <- read.csv("sobol.check.csv")
sobol.check[1:n, 1:3] == cbind(uD1, uD2, uD3)
sobol.check[1:n, 1:3]
cbind(uD1, uD2, uD3)
halton(n, dim=1)
halton(n, dim=1) == sobol.check
halton(n, dim=1) == sobol.check[1:n,1]
uD1
myV <- sobol.V(mymj ,mypj, bitnb=30, echo=FALSE)
uD1 <- sobol.basic(n, myV[[1]], bitnb=30, echo=FALSE, output="real",
start=1)
uD1
myV <- sobol.V(mymj ,mypj, bitnb=31, echo=FALSE)
uD1 <- sobol.basic(n, myV[[1]], bitnb=31, echo=FALSE, output="real",
start=1)
uD2 <- sobol.basic(n, myV[[2]], bitnb=31, echo=FALSE, output="real",
start=1)
uD3 <- sobol.basic(n, myV[[3]], bitnb=31, echo=FALSE, output="real",
start=1)
sobol.check <- read.csv("sobol.check.csv")
sobol.check[1:n, 1:3] == cbind(uD1, uD2, uD3)
int2bit
library(randtoolbox)
library(randtoolbox)
library(randtoolbox)
args(sobol)
library(randtoolbox)
n <- 5
sobol(n, start=0, method="C")
sobol(n, start=1, method="C")
sobol(n, start=1, method="C")
sobol(n, start=1, method="C")
sobol(n, start=1, method="C")
sobol(n, start=1, method="C", dim=2000)
args(sobol)
library(randtoolbox)
library(randtoolbox)
n <- 5
sobol(n, start=0, method="C")
library(randtoolbox)
n <- 5
sobol(n, start=0, method="C")
library(randtoolbox)
n <- 5
sobol(n, start=0, method="C")
sobol(n, dim=2, start=0, method="C")
library(randtoolbox)
sobol(n, start=0, method="C")
sobol(n, dim=2, start=0, method="C")
library(randtoolbox)
sobol(n, dim=2, start=0, method="C")
library(randtoolbox)
sobol(n, dim=2, start=0, method="C")
library(randtoolbox)
sobol(n, dim=2, start=0, method="C")
library(randtoolbox)
sobol(n, dim=2, start=0, method="C")
library(randtoolbox)
library(randtoolbox)
n <- 5
sobol(n, start=0, method="C")
sobol(n, dim=4, start=0, method="C")
n <- 2^5
sobol(n, dim=5, start=0, method="C")
37*30
library(gdata)
setwd("~/Documents/recherche-enseignement/code/R/rmetrics/Rmetrics2/rmetrics/pkg/randtoolbox/share")
ORIG1111 <- read.xls("initmj-D-Wuertz.xls", sheet=1)
dim(ORIG1111)
library(xlsx)
setwd("~/Documents/recherche-enseignement/code/R/rmetrics/Rmetrics2/rmetrics/pkg/randtoolbox/share")
ORIG1111 <- readxl("initmj-D-Wuertz.xls", sheet=1)
library(readxl)
setwd("~/Documents/recherche-enseignement/code/R/rmetrics/Rmetrics2/rmetrics/pkg/randtoolbox/share")
ORIG1111 <- readxl("initmj-D-Wuertz.xls", sheet=1)
ORIG1111 <- read_xls("initmj-D-Wuertz.xls", sheet=1)
dim(ORIG1111)
ORIG1111
args(read_xls)
ORIG1111 <- read_xls("initmj-D-Wuertz.xls", sheet=1, col_names = FALSE)
dim(ORIG1111)
head(ORIG1111)
ORIG1111 <- as.data.frame(read_xls("initmj-D-Wuertz.xls", sheet=1, col_names = FALSE))
dim(ORIG1111)
head(ORIG1111)
?read_xls
ORIG1111 <- as.matrix(as.data.frame(read_xls("initmj-D-Wuertz.xls", sheet=1, col_names = FALSE)))
dim(ORIG1111)
head(ORIG1111)
colnames(ORIG1111) <- NULL
head(ORIG1111)
apply(head(ORIG1111), 1, paste, collapse=",")
paste(apply(head(ORIG1111), 1, paste, collapse=","), sep=",\n")
ORIG1111.text <- paste(apply(head(ORIG1111), 1, paste, collapse=","), collapse=",\n")
cat(ORIG1111.text, file="ORIG1111.constant.txt")
ORIG1111.text <- paste(apply(ORIG1111, 1, paste, collapse=","), collapse=",\n")
cat(ORIG1111.text, file="ORIG1111.constant.txt")
2^13
library(randtoolbox)
sobol(n, dim=5, start=0, method="C")
library(randtoolbox)
sobol(n, dim=5, start=0, method="C")
n <- 2^13
sobol(n, dim=5, start=0, method="C")
res <- sobol(n, dim=5, start=0, method="C")
n <- 2^15
res <- sobol(n, dim=5, start=0, method="C")
library(randtoolbox)
res <- sobol(n, dim=5, start=0, method="C")
ORIG1111 <- as.matrix(as.data.frame(read_xls("initmj-D-Wuertz.xls", sheet=4, col_names = FALSE)))
colnames(ORIG1111) <- NULL
ORIG1111
head(ORIG1111)
ORIG1111.const.S <- as.matrix(as.data.frame(read_xls("initmj-D-Wuertz.xls", sheet=4, col_names = TRUE)))
head(ORIG1111.const.S)
s <- ORIG1111.const.S[,"s"]
s
s.text <- paste(s, collapse=",")
s.text
s
matrix(s, ncol=10, byrow = TRUE)
# add dimension 1
s <- c(1,ORIG1111.const.S[,"s"])
s2 <- matrix(s, ncol=10, byrow = TRUE)
1112/2
1112/2/2
1112/2/2/2
s2 <- matrix(s, ncol=8, byrow = TRUE)
s <- c(1,ORIG1111.const.S[,"s"])
s2 <- matrix(s, ncol=8, byrow = TRUE)
ORIG1111.const.S[,"s"]
s <- c(1,ORIG1111.const.S[,"s"])
length(s)
1111/2:9
1111/2:10
s2 <- matrix(s, ncol=10, byrow = TRUE)
s2
tail(s2)
s <- ORIG1111.const.S[,"s"]
s2 <- matrix(s, ncol=10, byrow = TRUE)
s2
tail(s2)
s2.text <- paste(apply(s2, 1, paste, collapse=","), collapse=",\n")
s2.text
head(s2.text)
s2.text <- apply(s2, 1, paste, collapse=",")
head(s2.text)
s <- ORIG1111.const.S[,"s"]
s2 <- matrix(s, ncol=10, byrow = TRUE)
# add dimension 1
s2.text <- c("1", apply(s2, 1, paste, collapse=","))
s2.text <- paste(s2.text, collapse=",\n")
library(readxl)
setwd("~/Documents/recherche-enseignement/code/R/rmetrics/Rmetrics2/rmetrics/pkg/randtoolbox/share")
ORIG1111 <- as.matrix(as.data.frame(read_xls("initmj-D-Wuertz.xls", sheet=1, col_names = FALSE)))
colnames(ORIG1111) <- NULL
dim(ORIG1111)
head(ORIG1111)
ORIG1111.text <- paste(apply(ORIG1111, 1, paste, collapse=","), collapse=",\n")
cat(ORIG1111.text, file="ORIG1111.mj.txt")
ORIG1111.const.S <- as.matrix(as.data.frame(read_xls("initmj-D-Wuertz.xls", sheet=4, col_names = TRUE)))
head(ORIG1111.const.S)
s <- ORIG1111.const.S[,"s"]
s2 <- matrix(s, ncol=10, byrow = TRUE)
# add dimension 1
s2.text <- c("1", apply(s2, 1, paste, collapse=","))
s2.text <- paste(s2.text, collapse=",\n")
cat(ORIG1111.text, file="ORIG1111.s.txt")
cat(s2.text, file="ORIG1111.s.txt")
library(randtoolbox)
res <- sobol(n, dim=5, start=0, method="C")
library(randtoolbox)
res <- sobol(n, dim=5, start=0, method="C")
library(randtoolbox)
res <- sobol(n, dim=5, start=0, method="C")
res <- sobol(n, dim=5, start=0, method="C")
library(randtoolbox)
res <- sobol(n, dim=5, start=0, method="C")
library(randtoolbox)
res <- sobol(n, dim=5, start=0, method="C")
2^(15:1)
log(n, base=2
)
2^(15:0)
library(randtoolbox)
res <- sobol(n, dim=5, start=0, method="C")
n <- 2^8
res <- sobol(n, dim=5, start=0, method="C")
15
res <- sobol(n, dim=5, start=0, method="C")
n <- 2^15
res <- sobol(n, dim=5, start=0, method="C")
library(randtoolbox)
res <- sobol(n, dim=5, start=0, method="C")
head(ORIG1111.const.S)
a <- ORIG1111.const.S[,"a"]
a2 <- matrix(a, ncol=10, byrow = TRUE)
a <- ORIG1111.const.S[,"a"]
a2 <- matrix(a, ncol=10, byrow = TRUE)
# add dimension 1
a2.text <- c("0", apply(a2, 1, paste, collapse=","))
a2.text <- paste(a2.text, collapse=",\n")
cat(a2.text, file="ORIG1111.a.txt")
library(randtoolbox)
res <- sobol(n, dim=5, start=0, method="C")
n <- 2^5
sobol(n, start=0, method="C")
res <- sobol(n, dim=5, start=0, method="C")
res <- sobol(n, dim=6, start=0, method="C")
library(randtoolbox)
n <- 2^5
sobol(n, start=0, method="C")
res <- sobol(n, dim=6, start=0, method="C")
library(randtoolbox)
res <- sobol(n, dim=6, start=0, method="C")
n <- 2^15
res <- sobol(n, dim=6, start=0, method="C")
library(randtoolbox)
n <- 2^4
res <- sobol(n, dim=6, start=0, method="C")
res
sobol(10, 20, method="Fortran")
args(sobol)
write.csv(sobol(10000, 1111, method="Fortran", scrambling=0), file="sobol.scrambling0.dim1111.csv", row.names = FALSE)
write.csv(sobol(10000, 1111, method="Fortran", scrambling=1), file="sobol.scrambling1.dim1111.csv", row.names = FALSE)
write.csv(sobol(10000, 1111, method="Fortran", scrambling=2), file="sobol.scrambling2.dim1111.csv", row.names = FALSE)
write.csv(sobol(10000, 1111, method="Fortran", scrambling=3), file="sobol.scrambling3.dim1111.csv", row.names = FALSE)
sobol.check.scrambling0.dim1111 <- read.csv("share/sobol.scrambling0.dim1111.csv", nrows = 100)
sobol.check.scrambling0.dim1111
head(sobol.check.scrambling0.dim1111)
head(sobol.check.scrambling0.dim1111[,1:10])
res <- sobol(n, dim=10, start=0, method="C")
res[1:6, ] == head(sobol.check.scrambling0.dim1111[,1:10])
library(randtoolbox)
res <- sobol(n, dim=10, start=0, method="C")
library(randtoolbox)
res <- sobol(n, dim=10, start=0, method="C")
16
2^4
library(randtoolbox)
res <- sobol(n, dim=10, start=0, method="C")
library(randtoolbox)
res <- sobol(n, dim=10, start=0, method="C")
2^3
2^3+2^2+2+1
library(randtoolbox)
res <- sobol(n, dim=10, start=0, method="C")
res
0.03125
0.03125*2^5
sobol.check.scrambling0.dim1111.fkuo <- read.table("share/sobol.orig1111.check.txt", nrow=11)
sobol.check.scrambling0.dim1111.fkuo[, 1:10]
sobol.check.scrambling0.dim1111.fkuo[-1, 1:10] == sobol.check.scrambling0.dim1111[1:10, 1:10]
sobol.check.scrambling0.dim1111.fkuo[-1, 1:100] == sobol.check.scrambling0.dim1111[1:10, 1:100]
sobol.check.scrambling0.dim1111.fkuo <- read.table("share/sobol.orig1111.check.txt", nrow=11)[-1,]
sobol.check.scrambling0.dim1111.fkuo[, 1:10]
sobol.check.scrambling0.dim1111.fkuo[, 1:100] == sobol.check.scrambling0.dim1111[1:10, 1:100]
sobol.check.scrambling0.dim1111.fkuo[, 1:10] == sobol.check.scrambling0.dim1111[1:10, 1:10]
sobol.check.scrambling0.dim1111.fkuo[, 1:10]
res[1:6, ]
res[1:6, ]/2^(32-5)
res[1:6, ]*2^(32-5)
res[1:6, ]*2^(4)
library(randtoolbox)
res <- sobol(n, dim=10, start=0, method="C")
res
res[1:6, ] == head(sobol.check.scrambling0.dim1111[,1:10])
library(randtoolbox)
res <- sobol(n, dim=10, start=0, method="C")
res
res[1:6, ] == head(sobol.check.scrambling0.dim1111[,1:10])
head(res)
res <- sobol(n, dim=10, start=0, method="C")
library(randtoolbox)
res <- sobol(n, dim=10, start=0, method="C")
library(randtoolbox)
res <- sobol(n, dim=10, start=0, method="C")
x<-c(2147483648,1073741824,536870912,268435456,134217728)
x
x/2^32
res[,1]
1/2^32
head(sobol.check.scrambling0.dim1111[,1])
library(randtoolbox)
res <- sobol(n, dim=10, start=0, method="C")
head(res)
res <- sobol(n, dim=10, start=0, method="C")[-1, ]
head(res)
head(sobol.check.scrambling0.dim1111[,1:10])
res[1:6, ] == head(sobol.check.scrambling0.dim1111[,1:10])
head(sobol.check.scrambling0.dim1111[,1:10])
res[1:6, ]
head(res)
res <- sobol(n, dim=10, start=0, method="C")
head(res)
res <- sobol(n, dim=10, start=0, method="C")[-1, ]
head(res)
res[1:6, ] == head(sobol.check.scrambling0.dim1111[,1:10])
a<-c(0,
0,1,1,2,1,4,2,13,7,14,
11,4,1,16,13,22,19,25,1,32,
4,8,7,56,14,28,19,50,21,42,-
)
a<-c(0,
0,1,1,2,1,4,2,13,7,14,
11,4,1,16,13,22,19,25,1,32,
4,8,7,56,14,28,19,50,21,42)
a
int2bit(a)
a
sapply(a, int2bit)
abit <- sapply(a, int2bit)
s <- c(1,
1,2,3,3,4,4,5,5,5,5,
5,5,6,6,6,6,6,6,7,7,
7,7,7,7,7,7,7,7,7,7)
f <- function(k)
abit[,k] / 2^(s[k]-k-1)
y<-47
int2bit(y)
int2bit(y)[-1]
bit2int(int2bit(y)[-1])
f <- function(k) abit[-(s[k]-k-1),k]
f(1Â°
f(1)
a[1]
a[3]
f(3)
a[4]
a[5]
f(5)
library(randsobolfortran)
n <- 5
sobol.fortran(n)
?randsobolfortran
?sobol.fortran
library(randsobolfortran)
randtoolbox:::.getrandsobolfortranEnv(".sobol.seed")
randtoolbox::.getrandsobolfortranEnv(".sobol.seed")
.getrandsobolfortranEnv(".sobol.seed")
library(randsobolfortran)
